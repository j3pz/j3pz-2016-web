var menpaiList = {
	'huajian': {
		'name': 'huajian',
		'type': 'spunk',
		'baseAttack': 738,
		'baseHit': 265,
		'baseAttackPlus': 1.95,
		'baseCritPlus': 0,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0.19,
		'baseHPlus': 1.21,
		'baseMagicShield': 576,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'tianluo': {
		'name': 'tianluo',
		'type': 'spunk',
		'baseAttack': 664,
		'baseHit': 353,
		'baseCrit': 265,
		'baseAttackPlus': 1.75,
		'baseCritPlus': 0.57,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0,
		'baseHPlus': 1.21,
		'baseMagicShield': 576,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'fenying': {
		'name': 'fenying',
		'type': 'spunk',
		'baseAttack': 775,
		'baseHit': 397,
		'baseAttackPlus': 1.9,
		'baseCritPlus': 0.29,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0,
		'baseHPlus': 1.21,
		'baseMagicShield': 621,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 0]
	},
	'yijin': {
		'name': 'yijin',
		'type': 'spunk',
		'baseAttack': 738,
		'baseHit': 265,
		'baseAttackPlus': 1.85,
		'baseCritPlus': 0.38,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0,
		'baseHPlus': 1.32,
		'basePhysicsShield': 541,
		'baseMagicShield': 567,
		'baseHuajing': 1078,
		'tixingOption': [1, 0, 0, 1]
	},
	'zixia': {
		'name': 'zixia',
		'type': 'spirit',
		'baseAttack': 664,
		'baseHit': 442,
		'baseCrit': 265,
		'baseAttackPlus': 1.75,
		'baseCritPlus': 0.56,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0,
		'baseHPlus': 1.21,
		'baseMagicShield': 665,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'bingxin': {
		'name': 'bingxin',
		'type': 'spirit',
		'baseAttack': 738,
		'baseHit': 265,
		'baseAttackPlus': 1.9,
		'baseCritPlus': 0.28,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0,
		'baseMagicShield': 753,
		'basePhysicsShield': 400,
		'baseDodge': 265,
		'baseHPlus': 1.21,
		'baseHuajing': 1078,
		'tixingOption': [0, 1, 1, 1]
	},
	'dujing': {
		'name': 'dujing',
		'type': 'spirit',
		'baseAttack': 775,
		'baseHit': 397,
		'baseAttackPlus': 1.95,
		'baseCritPlus': 0,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0.19,
		'baseHPlus': 1.21,
		'baseMagicShield': 621,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'mowen': {
		'name': 'mowen',
		'type': 'spirit',
		'baseAttack': 664,
		'baseHit': 353,
		'baseCrit': 265,
		'baseAttackPlus': 1.85,
		'baseCritPlus': 0.38,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0,
		'baseHPlus': 1.21,
		'baseMagicShield': 576,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'taixu': {
		'name': 'taixu',
		'type': 'agility',
		'baseAttack': 584,
		'baseHit': 486,
		'baseCrit': 486,
		'baseAttackPlus': 1.45,
		'baseCritPlus': 0.58,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0,
		'baseHPlus': 1.21,
		'baseMagicShield': 400,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'cangjian': {
		'name': 'cangjian',
		'type': 'agility',
		'baseAttack': 615,
		'baseHit': 265,
		'baseCrit': 176,
		'baseAttackPlus': 1.6,
		'baseCritPlus': 0,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0.25,
		'baseDodge': 221,
		'baseHPlus': 1.21,
		'baseMagicShield': 400,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'linghai': {
		'name': 'linghai',
		'type': 'agility',
		'baseAttack': 646,
		'baseHit': 397,
		'baseCrit': 221,
		'baseAttackPlus': 1.55,
		'baseCritPlus': 0.36,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0,
		'baseMagicShield': 400,
		'basePhysicsShield': 400,
		'baseHPlus': 1.21,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'yinlong': {
		'name': 'yinlong',
		'type': 'agility',
		'baseAttack': 652,
		'baseHit': 398,
		'baseOvercome': 217,
		'baseAttackPlus': 1.5,
		'baseCritPlus': 0,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0.47,
		'baseMagicShield': 400,
		'basePhysicsShield': 400,
		'baseHPlus': 1.21,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'jingyu': {
		'name': 'jingyu',
		'type': 'strength',
		'baseAttack': 584,
		'baseHit': 442,
		'baseOvercome': 486,
		'baseAttackPlus': 1.45,
		'baseCritPlus': 0.59,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0,
		'baseMagicShield': 400,
		'basePhysicsShield': 400,
		'baseHPlus': 1.21,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'aoxue': {
		'name': 'aoxue',
		'type': 'strength',
		'baseAttack': 677,
		'baseHit': 397,
		'baseAttackPlus': 1.6,
		'baseCritPlus': 0,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0.25,
		'baseHPlus': 1.21,
		'baseMagicShield': 400,
		'basePhysicsShield': 598,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'xiaochen': {
		'name': 'xiaochen',
		'type': 'strength',
		'baseAttack': 646,
		'baseHit': 442,
		'baseAttackPlus': 1.5,
		'baseCritPlus': 0,
		'baseCritEffPlus': 0,
		'baseOvercomePlus': 0.47,
		'baseHPlus': 1.21,
		'baseMagicShield': 400,
		'basePhysicsShield': 559,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'beiao': {
		'name': 'beiao',
		'type': 'strength',
		'baseHPlus': 1.21,
		'baseAttack': 664,
		'baseHit': 442,
		'basePhysicsShield': 186,
		'baseAttackPlus': 1.55,
		'baseOvercomePlus': 0.36,
		'baseMagicShield': 400,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'fenshan': {
		'name': 'fenshan',
		'type': 'agility',
		'baseAttack': 627,
		'baseHit': 256,
		'baseOvercome': 353,
		'baseAttackPlus': 1.71,
		'baseHPlus': 1.21,
		'baseParryBasePlus': 0.1,
		'baseParryValuePlus': 1,
		'baseParryBase': 318,
		'baseMagicShield': 400,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'lijing': {
		'name': 'lijing',
		'type': 'hps',
		'baseHeal': 2001,
		'baseHealPlus': 1.65,
		'baseCritPlus': 0.41,
		'baseCritEffPlus': 0,
		'baseHPlus': 1.21,
		'baseMagicShield': 621,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'yunchang': {
		'name': 'yunchang',
		'type': 'hps',
		'baseHeal': 2144,
		'baseHealPlus': 1.75,
		'baseCritPlus': 0.21,
		'baseCritEffPlus': 0,
		'baseHPlus': 1.21,
		'baseMagicShield': 621,
		'basePhysicsShield': 400,
		'baseDodge': 243,
		'baseHuajing': 1078,
		'tixingOption': [0, 1, 1, 1]
	},
	'butian': {
		'name': 'butian',
		'type': 'hps',
		'baseHeal': 2072,
		'baseHealPlus': 1.85,
		'baseHPlus': 1.21,
		'baseMagicShield': 621,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'xiangzhi': {
		'name': 'xiangzhi',
		'type': 'hps',
		'baseHeal': 2215,
		'baseHealPlus': 1.7,
		'baseCritPlus': 0.31,
		'baseCritEffPlus': 0,
		'baseHPlus': 1.21,
		'baseMagicShield': 621,
		'basePhysicsShield': 400,
		'baseHuajing': 1078,
		'tixingOption': [1, 1, 1, 1]
	},
	'tielao': {
		'name': 'tielao',
		'type': 't',
		'baseHPlus': 1.47,
		'baseBodyPlus': 1.5,
		'baseParryBasePlus': 0.1,
		'baseParryValue': 958,
		'basePhysicsShieldPlus': 0.1,
		'basePhysicsShield': 814,
		'basePhysicsShield': 400,
		'baseParryBase': 249,
		'tixingOption': [1, 1, 1, 1]
	},
	'xisui': {
		'name': 'xisui',
		'type': 't',
		'baseHPlus': 1.57,
		'baseBodyPlus': 2.5,
		'baseMagicShieldPlus': 0.1,
		'baseMagicShield': 814,
		'basePhysicsShield': 649,
		'tixingOption': [1, 0, 0, 1]
	},
	'mingzun': {
		'name': 'mingzun',
		'type': 't',
		'baseHPlus': 1.47,
		'baseBodyPlus': 1.25,
		'baseDodgePlus': 0.225,
		'baseMagicShield': 607,
		'basePhysicsShield': 607,
		'baseDodge': 414,
		'tixingOption': [1, 1, 1, 0]
	},
	'tiegu': {
		'name': 'tiegu',
		'type': 't',
		'baseHPlus': 1.47,
		'baseBodyPlus': 2.2,
		'basePhysicsShield': 649,
		'baseMagicShield': 400,
		'baseParryBase': 414,
		'baseParryValue': 958,
		'baseParryBasePlus': 0.15,
		'baseParryValuePlus': 0.5,
		'tixingOption': [1, 1, 1, 1]
	}
};
var attributePlusValueMap = {
	'body': [2, 5, 8, 11, 14, 17, 22, 29],
	'heal': [2, 5, 8, 10, 13, 16, 21, 27],
	'basicAttributes': [1, 3, 5, 7, 9, 10, 14, 18],
	'magicAttack': [3, 6, 9, 12, 15, 18, 24, 31],
	'physicsAttack': [2, 5, 7, 10, 12, 15, 20, 26],
	'plusAttributes': [5, 11, 17, 22, 28, 34, 45, 58],
	'life': [28, 57, 85, 114, 143, 171, 229, 296],
	'lifeRecovery': [1, 3, 5, 7, 9, 11, 15, 20],
	'threat': ['0.4%', '0.8%', '1.3%', '1.7%', '2.1%', '2.5%', '3.3%', '4.3%'],
	'parryValue': [16, 33, 49, 66, 82, 99, 132, 170],
	'haste': [2, 4, 6, 8, 10, 12, 16, 21]
};
var stoneTypeList = ['金', '木', '水', '火', '土'];
var stoneTypeListReverse = {
	'金': 0,
	'木': 1,
	'水': 2,
	'火': 3,
	'土': 4,
	'全': 5
};
var stoneTypeMap = {
	'A': [0, 2],
	'B': [1, 2],
	'C': [1, 3],
	'D': [0, 4],
	'E': [4, 3],
	'F': [1, 4],
	'G': [0, 3],
	'H': [4, 2],
	'I': [3, 2],
	'J': [0, 1]
};
var stoneTypeChange = {
	'A': ['C', 'E', 'F'],
	'B': ['D', 'E', 'G'],
	'C': ['A', 'D', 'H'],
	'D': ['B', 'C', 'I'],
	'E': ['A', 'B', 'J']
};
var stones = [
	[],
	[{img: '0-1', level: 1, type: 0}, {img: '1-1', level: 1, type: 1}, {img: '2-1', level: 1, type: 2}, {img: '3-1', level: 1, type: 3}, {img: '4-1', level: 1, type: 4}],
	[{img: '0-2', level: 2, type: 0}, {img: '1-2', level: 2, type: 1}, {img: '2-2', level: 2, type: 2}, {img: '3-2', level: 2, type: 3}, {img: '4-2', level: 2, type: 4}],
	[{img: '0-3', level: 3, type: 0}, {img: '1-3', level: 3, type: 1}, {img: '2-3', level: 3, type: 2}, {img: '3-3', level: 3, type: 3}, {img: '4-3', level: 3, type: 4}],
	[{img: '0-4', level: 4, type: 0}, {img: '1-4', level: 4, type: 1}, {img: '2-4', level: 4, type: 2}, {img: '3-4', level: 4, type: 3}, {img: '4-4', level: 4, type: 4}],
	[{img: '0-5', level: 5, type: 0}, {img: '1-5', level: 5, type: 1}, {img: '2-5', level: 5, type: 2}, {img: '3-5', level: 5, type: 3}, {img: '4-5', level: 5, type: 4}],
	[{img: '0-6', level: 6, type: 0}, {img: '1-6', level: 6, type: 1}, {img: '2-6', level: 6, type: 2}, {img: '3-6', level: 6, type: 3}, {img: '4-6', level: 6, type: 4}],
	[{img: '0-7', level: 7, type: 0}, {img: '1-7', level: 7, type: 1}, {img: '2-7', level: 7, type: 2}, {img: '3-7', level: 7, type: 3}, {img: '4-7', level: 7, type: 4}],
	[{img: '0-8', level: 8, type: 0}, {img: '1-8', level: 8, type: 1}, {img: '2-8', level: 8, type: 2}, {img: '3-8', level: 8, type: 3}, {img: '4-8', level: 8, type: 4}],
	[{img: '0-9', level: 9, type: 0}, {img: '1-9', level: 9, type: 1}, {img: '2-9', level: 9, type: 2}, {img: '3-9', level: 9, type: 3}, {img: '4-9', level: 9, type: 4}]
];
var attrTransTable = {
	// 攻击转其他
	'08': ['09', '11', '21', '51'],
	'40': ['20', '11', '31', '51'],
	'15': ['54', '11', '25', '51'],
	'19': ['53', '11', '26', '51'],
	'22': ['57', '11', '30', '51', '09', '21'],
	'33': ['56', '11', '34', '51'],
	'16': ['50', '11', '24', '51'],
	// 会心转其他
	'06': ['09', '11', '08', '51', '22'],
	'10': ['20', '11', '40', '51'],
	'07': ['54', '11', '25', '51', '41', '36'],
	'17': ['53', '11', '26', '51'],
	'29': ['57', '11', '22', '51', '41', '30', '36'],
	'35': ['56', '11', '33', '51'],
	'23': ['50', '11', '24', '51', '41', '36'],
	'37': ['36', '11', '40', '08', '51'],
	// 会效转其他
	'21': ['09', '11', '08', '51'],
	'31': ['20', '11', '40', '51'],
	'25': ['54', '11', '15', '51', '07', '36', '41', '07'],
	'26': ['53', '11', '19', '51'],
	'30': ['57', '11', '22', '51', '29', '36', '41'],
	'34': ['56', '11', '33', '51'],
	'24': ['50', '11', '16', '51', '23', '36', '41'],
	'38': ['36', '11', '40', '08', '51'],
	// 破防转其他
	'18': ['09', '11', '08', '51'],
	'27': ['20', '11', '31', '51'],
	'14': ['54', '11', '15', '51'],
	'12': ['53', '11', '19', '51'],
	'28': ['57', '11', '22', '51', '09'],
	'32': ['56', '11', '33', '51'],
	'13': ['50', '11', '16', '51'],
	// 命中转其他
	'09': ['08', '11', '21', '51', '22'],
	'20': ['40', '11', '31', '51'],
	'54': ['15', '11', '25', '51'],
	'53': ['19', '11', '26', '51'],
	'57': ['22', '11', '30', '51'],
	'56': ['33', '11', '34', '51'],
	'50': ['16', '11', '24', '51'],
	'36': ['40', '08', '11', '38', '51'],
	// 无双转其他
	'11': ['36', '40', '08', '38', '51', '55'],
	// 防御类
	'43': ['36', '47', '55', '51'],
	'42': ['36', '47', '55', '51'],
	'45': ['36', '47', '55', '51'],
	'46': ['36', '47', '55', '51'],
	'44': ['36', '47', '55', '51'],
	'55': ['36', '47', '45', '51'],
	'47': ['36', '11', '05', '51'],
	// 基础类
	'03': ['36', '11', '08', '40', '41', '51', '55'],
	'01': ['36', '11', '40', '51'],
	'00': ['36', '11', '40', '51', '41'],
	'02': ['36', '11', '08', '51'],
	'04': ['36', '11', '08', '51'],
	// 气血类
	'05': ['36', '11', '08', '40', '51', '55', '41', '49'],
	'39': ['36', '11', '08', '40', '51', '55', '41', '49'],
	// 治疗
	'41': ['36', '00', '49', '51'],
	// 化劲
	'52': []
};
var stoneAttrMap = [
	{
		'desc': '根骨+',
		'prefix': 'spirit'
	},
	{
		'desc': '元气+',
		'prefix': 'spunk'
	},
	{
		'desc': '力道+',
		'prefix': 'strength'
	},
	{
		'desc': '体质+',
		'prefix': 'body'
	},
	{
		'desc': '身法+',
		'prefix': 'agility'
	},
	{
		'desc': '每秒回复气血',
		'prefix': 'lifeRecovery'
	},
	{
		'desc': '外功会心等级提高',
		'prefix': 'crit'
	},
	{
		'desc': '阴性会心等级提高',
		'prefix': 'crit'
	},
	{
		'desc': '外功攻击提高',
		'prefix': 'attack'
	},
	{
		'desc': '外功命中等级提高',
		'prefix': 'hit'
	},
	{
		'desc': '内功会心等级提高',
		'prefix': 'crit'
	},
	{
		'desc': '无双等级提高',
		'prefix': 'strain'
	},
	{
		'desc': '阳性破防等级提高',
		'prefix': 'overcome'
	},
	{
		'desc': '混元破防等级提高',
		'prefix': 'overcome'
	},
	{
		'desc': '阴性破防等级提高',
		'prefix': 'overcome'
	},
	{
		'desc': '阴性内功攻击提高',
		'prefix': 'attack'
	},
	{
		'desc': '混元内功攻击提高',
		'prefix': 'attack'
	},
	{
		'desc': '阳性会心等级提高',
		'prefix': 'crit'
	},
	{
		'desc': '外功破防等级提高',
		'prefix': 'overcome'
	},
	{
		'desc': '阳性内功攻击提高',
		'prefix': 'attack'
	},
	{
		'desc': '内功命中等级提高',
		'prefix': 'hit'
	},
	{
		'desc': '外功会心效果等级提高',
		'prefix': 'critEffect'
	},
	{
		'desc': '毒性内功攻击提高',
		'prefix': 'attack'
	},
	{
		'desc': '混元会心等级提高',
		'prefix': 'crit'
	},
	{
		'desc': '混元会心效果等级提高',
		'prefix': 'critEffect'
	},
	{
		'desc': '阴性会心效果等级提高',
		'prefix': 'critEffect'
	},
	{
		'desc': '阳性会心效果等级提高',
		'prefix': 'critEffect'
	},
	{
		'desc': '内功破防等级提高',
		'prefix': 'overcome'
	},
	{
		'desc': '毒性破防等级提高',
		'prefix': 'overcome'
	},
	{
		'desc': '毒性会心等级提高',
		'prefix': 'crit'
	},
	{
		'desc': '毒性会心效果等级提高',
		'prefix': 'critEffect'
	},
	{
		'desc': '内功会心效果等级提高',
		'prefix': 'critEffect'
	},
	{
		'desc': '阴阳破防等级提高',
		'prefix': 'overcome'
	},
	{
		'desc': '阴阳攻击等级提高',
		'prefix': 'attack'
	},
	{
		'desc': '阴阳会心效果等级提高',
		'prefix': 'critEffect'
	},
	{
		'desc': '阴阳会心等级提高',
		'prefix': 'crit'
	},
	{
		'desc': '全命中等级提高',
		'prefix': 'hit'
	},
	{
		'desc': '全会心等级提高',
		'prefix': 'crit'
	},
	{
		'desc': '全会心效果等级提高',
		'prefix': 'critEffect'
	},
	{
		'desc': '额外提高气血上限',
		'prefix': 'life'
	},
	{
		'desc': '内功攻击提高',
		'prefix': 'attack'
	},
	{
		'desc': '治疗成效提高',
		'prefix': 'heal'
	},
	{
		'desc': '外功防御等级提高',
		'prefix': 'physicsShield'
	},
	{
		'desc': '内功防御等级提高',
		'prefix': 'magicShield'
	},
	{
		'desc': '拆招等级提高',
		'prefix': 'parryValue'
	},
	{
		'desc': '闪避等级提高',
		'prefix': 'dodge'
	},
	{
		'desc': '招架等级提高',
		'prefix': 'parryBase'
	},
	{
		'desc': '招式产生的威胁变化+',
		'prefix': 'threat'
	},
	{
		'desc': '每秒内力恢复提升',
		'prefix': 'magicRecovery'
	},
	{
		'desc': '最大内力上限提高',
		'prefix': 'magic'
	},
	{
		'desc': '混元性内功命中等级提高',
		'prefix': 'hit'
	},
	{
		'desc': '加速等级提高',
		'prefix': 'acce'
	},
	{
		'desc': '化劲等级提高',
		'prefix': 'huajing'
	},
	{
		'desc': '阳性内功命中等级提高',
		'prefix': 'hit'
	},
	{
		'desc': '阴性内功命中等级提高',
		'prefix': 'hit'
	},
	{
		'desc': '御劲等级提高',
		'prefix': 'toughness'
	},
	{
		'desc': '阴阳内功命中等级提高',
		'prefix': 'hit'
	},
	{
		'desc': '毒性内功命中等级提高',
		'prefix': 'hit'
	}
];
var typeParseMap = {
	'0_hat': '帽子',
	'1_jacket': '上衣',
	'2_belt': '腰带',
	'3_wrist': '护腕',
	'4_bottoms': '下装',
	'5_shoes': '鞋子',
	'6_necklace': '项链',
	'7_pendant': '腰坠',
	'8_ring_1': '戒指',
	'9_ring_2': '戒指',
	'a_secondaryWeapon': '远程武器',
	'b_primaryWeapon': '近程武器',
	'c_primaryWeapon': '重兵武器'
};
var positions = [
	'0_hat',
	'1_jacket',
	'2_belt',
	'3_wrist',
	'4_bottoms',
	'5_shoes',
	'6_necklace',
	'7_pendant',
	'8_ring_1',
	'9_ring_2',
	'a_secondaryWeapon',
	'b_primaryWeapon'
];
var equipId_focusId_map = [
	'6_necklace',
	'7_pendant',
	'8_ring_1',
	'9_ring_2',
	'a_secondaryWeapon',
	'5_shoes',
	'3_wrist',
	'4_bottoms',
	'1_jacket',
	'0_hat',
	'2_belt',
	'b_primaryWeapon',
	'c_primaryWeapon'
];
var preDescAvaList = {
	'basicPhysicsShield': '外功防御等级提高',
	'basicMagicShield': '内功防御等级提高',
	'body': '体质+',
	'spirit': '根骨+',
	'spunk': '元气+',
	'strength': '力道+',
	'agility': '身法+',
	'physicsShield': '外功防御等级提高', 'magicShield': '内功防御等级提高',
	'dodge': '闪避等级提高',
	'parryBase': '招架等级提高',
	'parryValue': '拆招等级提高',
	'toughness': '御劲等级提高',
	'attack': '攻击提高',
	'heal': '治疗成效提高',
	'crit': '会心等级提高',
	'critEffect': '会心效果提高',
	'overcome': '破防等级提高',
	'hit': '命中等级提高',
	'acce': '加速等级提高',
	'strain': '无双等级提高',
	'huajing': '化劲等级提高',
	'threat': '招式产生的威胁提高'
};
var attributeMap = {
	'body': 'body',
	'spirit': 'basicAttributes',
	'strength': 'basicAttributes',
	'agility': 'basicAttributes',
	'spunk': 'basicAttributes',
	'physicsShield': 'body',
	'magicShield': 'body',
	'dodge': 'body',
	'parryBase': 'body',
	'parryValue': 'parryValue',
	'toughness': 'body',
	'attack': 'magicAttack',
	'heal': 'heal',
	'crit': 'plusAttributes',
	'critEffect': 'plusAttributes',
	'overcome': 'plusAttributes',
	'acce': 'haste',
	'hit': 'plusAttributes',
	'strain': 'plusAttributes',
	'huajing': 'body',
	'threat': 'threat',
	'life': 'life',
	'magic': 'life',
	'lifeRecovery': 'lifeRecovery',
	'magicRecovery': 'lifeRecovery'
};
var positionIconList = {
	'0_hat': {icon: '../../images/pl_9.png'},
	'1_jacket': {icon: '../../images/pl_8.png'},
	'2_belt': {icon: '../../images/pl_10.png'},
	'3_wrist': {icon: '../../images/pl_6.png'},
	'b_primaryWeapon': {icon: '../../images/pl_11.png'},
	'a_secondaryWeapon': {icon: '../../images/pl_4.png'},
	'4_bottoms': {icon: '../../images/pl_7.png'},
	'5_shoes': {icon: '../../images/pl_5.png'},
	'6_necklace': {icon: '../../images/pl_0.png'},
	'7_pendant': {icon: '../../images/pl_1.png'},
	'8_ring_1': {icon: '../../images/pl_2.png'},
	'9_ring_2': {icon: '../../images/pl_2.png'}
};
// var stoneScore = [0, 2.66, 5.33, 8, 10.66, 13.17, 16, 21, 27.33];
var stoneScore = [0, 5.32, 10.66, 16, 21.32, 26.34, 32, 42, 54.66];
var tixingOptions = [
	{ name: '成男', body: 35, spunk: 34, spirit: 34, strength: 34, agility: 34 },
	{ name: '成女', body: 35, spunk: 34, spirit: 34, strength: 34, agility: 34 },
	{ name: '萝莉', body: 35, spunk: 34, spirit: 34, strength: 34, agility: 34 },
	{ name: '正太', body: 35, spunk: 34, spirit: 34, strength: 34, agility: 34 }
];
/* 分析装备前缀描述 */
function analysisPre(xinfatype) {
	str = Number(xinfatype);
	str = str.toString(2);
	str = addZero(str, 24);
	var avaMenpai = str.split('');
	var preArr = ['', ''];
	var xinfaList = [
		// 元气
		['混元性内功', '万花(花间游)'],
		['阳性内功', '少林(易筋经)'],
		['毒性内功', '唐门(天罗诡道)'],
		['阴阳内功', '明教(焚影圣诀)'],
		// 根骨
		['阴性内功', '七秀(冰心诀)'],
		['毒性内功', '五毒(毒经)'],
		['混元性内功', '纯阳(紫霞功)'],
		['阴性内功', '长歌(莫问)'],
		// 力道
		['外功', '唐门(惊羽诀)'],
		['外功', '天策(傲血战意)'],
		['外功', '丐帮'],
		['外功', '霸刀'],
		// 身法
		['外功', '纯阳(太虚剑意)'],
		['外功', '藏剑(均可)'],
		['外功', '苍云(分山劲)'],
		['外功', '蓬莱(凌海诀)'],
		['外功', '凌雪(隐龙诀)'],
		// 治疗
		['混元性内功', '万花(离经易道)'],
		['阴性内功', '七秀(云裳心经)'],
		['毒性内功', '五毒(补天诀)'],
		['阴性内功', '长歌(相知)'],
		// 防御
		['阳性内功', '少林(洗髓经)'],
		['阴阳内功', '明教(明尊琉璃体)'],
		['外功', '天策(铁牢律)'],
		['外功', '苍云(铁骨衣)']
	];
	var sum = 0;
	var firstHit = -1;
	var rec = [];
	for (var i = 0; i < avaMenpai.length; i++) {
		if (avaMenpai[i] > 0) {
			sum++;
			firstHit = firstHit == -1 ? i : firstHit;
			rec.push(xinfaList[i][1]);
		}
	}
	if (sum == 1) {		// 单心法可用装备
		preArr[0] = xinfaList[firstHit][0];
		preArr[1] = xinfaList[firstHit][0];
		if (firstHit == 2) preArr[1] = '外功';
	} else if (sum <= 4) {	// 通用装备
		switch (firstHit) {
		case 0: preArr = ['内功', '全']; break;	// 元气
		case 4: preArr = ['内功', '内功']; break;	// 根骨
		case 8: preArr = ['外功', '外功']; break;	// 力道
		case 12: preArr = ['外功', '外功']; break;// 身法
		case 15: preArr = ['内功', '内功']; break;// 治疗
		case 19: preArr = ['全', '全']; break;	// 防御
		}
	}
	if (sum >= 6) {			// 精简装备
		switch (firstHit) {
		case 0: preArr = ['内功', '全']; rec = ['内功通用']; break;	// 内功精简
		case 8: preArr = ['外功', '外功']; rec = ['外功通用']; break;// 外功精简
		}
	}
	preArr[2] = rec;
	return preArr;
}

// 补位函数
function addZero(str, length) {
	return new Array(length - str.length + 1).join('0') + str;
}

// ios触屏兼容
$('.collapse-header').on('click', function() {
	$($(this).data('target')).collapse('toggle');
});
